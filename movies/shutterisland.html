<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Shutter Island | Movie Hub</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link href="../style.css" rel="stylesheet">
<style>
main {
  max-width: 900px;
  margin: 40px auto;
  padding: 0 20px;
  text-align: center;
}
.movie-info h1 { font-size: 2em; margin-bottom: 10px; }
.movie-info p { margin: 5px 0; font-size: 1em; color: #555; }
iframe { width: 100%; max-width: 900px; height: 600px; border: none; margin-top: 20px; border-radius: 10px; }
pre { text-align: left; width: 100%; max-width: 900px; margin: 20px auto; background: #222; padding: 15px; border-radius: 8px; color: #0f0; overflow-x: auto; font-size: 14px; }
.overlay-unmute { position: fixed; top:0; left:0; right:0; bottom:0; width:100%; height:100%; cursor:pointer; z-index:1000; background:transparent; }
</style>
</head>
<body>

<header>
<h1>Movie Hub</h1>
<h3>Explore Movies from All Genres</h3>
<nav>
<a href="../index.html">Home</a>
<a href="../movies.html">Movies</a>
<a href="../genres.html">Genres</a>
<a href="../top-rated.html">Top Rated</a>
<a href="../about.html">About</a>
</nav>
</header>

<main>
<div class="movie-info">
    <h1>Shutter Island</h1>
    <p><strong>Director:</strong> Unknown</p>
    <p><strong>Year:</strong> 2010</p>
    <p><strong>Description:</strong> World War II soldier-turned-U.S. Marshal Teddy Daniels investigates the disappearance of a patient from a hospital for the criminally insane, but his efforts are compromised by troubling visions and a mysterious doctor.</p>
</div>

<!-- Vidking Player Embed (muted autoplay) -->
<iframe id="vidking-player"
src="https://www.vidking.net/embed/movie/11324?autoPlay=true&muted=1&color=e50914"
allowfullscreen>
</iframe>

<!-- Event Log Area -->
<pre id="messageArea">{ "waiting": "Play video to see live event logs here..." }</pre>

<!-- Overlay for first click to enable audio -->
<div class="overlay-unmute" id="overlay-unmute" title="Click to enable audio"></div>
</main>

<script>
window.addEventListener("message", function(event) {
  try {
    const parsed = JSON.parse(event.data);
    document.querySelector("#messageArea").textContent = JSON.stringify(parsed, null, 2);
  } catch (err) { console.warn("Non-JSON message received:", event.data); }
});

// First click enables audio
document.getElementById("overlay-unmute").addEventListener("click", function() {
  const iframe = document.getElementById("vidking-player");
  iframe.contentWindow.postMessage(JSON.stringify({ action: "unmute" }), "*");
  this.remove();
}, { once: true });
</script>

</body>
</html>
